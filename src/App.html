<script>
    import {
        hasLowerCase,
        hasSymbols,
        hasNumbers,
        hasUpperCase,
        length
    } from './store'
    
    import Password from './components/Password.html';
    
    let form, txtLength, chxLowerCase, chxUpperCase, chxSymbols, chxNumbers
    
    let onSubmitForm = () => {
        psw = generatePassword()
    }
</script>

<div class="o-grid">
    <div class="o-grid__cell u-width-1-2 u-width-1-1@tablet-portrait">
        <Password/>
    </div>
    <div class="o-grid__cell u-width-1-2 u-width-1-1@tablet-portrait">

        <section class="c-panel">
            <div class="c-panel__head">
                <h3>Настройки генератора пароля</h3>
            </div>
            <div class="c-panel__body">
                <form bind:this={form} on:change={onSubmitForm} class="o-form js-psw-options">
                    <label class="o-form__row c-field-box">
                        <span class="c-field-label">Длинна пароля: {$length}</span>
                        <input bind:this={txtLength} bind:value={$length} type="range" name="length" min="3" max="24" class="c-field">
                    </label>
                    <label class="o-form__row">
                        <input bind:this={chxNumbers} bind:checked={$hasNumbers} type="checkbox" name="numbers" class="c-field">
                        <span class="c-field-label">Цифры</span>
                    </label>
                    <label class="o-form__row">
                        <input bind:this={chxUpperCase} bind:checked={$hasUpperCase} type="checkbox" name="upper-case" class="c-field">
                        <span class="c-field-label">Прописные буквы</span>
                    </label>
                    <label class="o-form__row">
                        <input bind:this={chxLowerCase} bind:checked={$hasLowerCase} type="checkbox" name="lower-case" class="c-field">
                        <span class="c-field-label">Строчные буквы</span>
                    </label>
                    <label class="o-form__row">
                        <input bind:this={chxSymbols} bind:checked={$hasSymbols} type="checkbox" name="symbols" class="c-field">
                        <span class="c-field-label">Символы <q>{SYMBOLS}</q></span>
                    </label>
                </form>
            </div>
        </section>
		
    </div>
</div>

<style>
    .o-form__row {
        justify-content: flex-start;
    }
</style>